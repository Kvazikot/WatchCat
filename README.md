# WatchCat

## Проект watchcat

Проект на с++ использует вебкамеру
подключить opencv
vsbaranov83@gmail.com Владимир Баранов
Дата создания: 13.03.21 14:52

## Основные фнкции 
1. запись видео при срабатывании триггера
   аудио триггер (порог громкости превышает заданное значение)
   видео триггер (в кадре есть движение)
   речевой триггер( есть определенные слова или сочетания слов в речи )
   использовать пайп в ffmpeg

2. Передача емайла при срабатывании тригера (посмотреть скрипт на пайтоне)

3. Включение сирены (сирена сначала будет мой голос запитченный на пару тонов для устрашения)

4. Идентификация по лицу для отмены тревоги. Лица членов семьи.

5. Уничтожение заголовка раздела 




## Функции для создания шоу.

1. Можно показывать разные видео в режиме картинка в картинке (см. список видео)       
2. Записать фразу с войс морфером
3. Найти фотографии персонажей
3. Сделать виртуальных персонажей.

## Виртуальные пресонажи 
1. На входе фотография, на выходе 3д модель.
2. Встроить виртуального персонажа поверх видео вебкамеры, он должен реагировать на фразы. 


# Список фраз
"Наш супер пупер искуственный интеллект зафиксировал что вас кинули. С вашего счета переведено 30000 в Бобруйск на счет Алексея Петровича."
"Вы собираетесь нарушить базовые законы банановой республики дистрикта 9."   
"Вы собираетесь нарушить закон об оскорблении власти. Полиция уже в пути."


# Список видео
1. "Копы уже едут"   ~/WatchCat/videos/cops_video.mp4



!! Программа долна работать в фоновом режиме. Поэтому традиционный qt GUI вариант делать не надо.
Для интерфейса и управления можно использовать библиотеку highgui.

TODO: Найти программы по идентификации по лицу

## Обработка аудио

Библиотека kfr оптимизирована для работы в реальном времени.
https://github.com/kfrlib/kfr/blob/master/examples/dft.cpp

## Обработка видео
Библиотека opencv 
Дополнительные библиотеки для motion tracking и идентификации по лицу.


## Hardware
В качестве платформы можно использовать rasbery pi с дебианом.
Можно использовать андройд смартфон в качестве мозгового центра.
Можно помотреть какие продаются датчики движения.


## Алгоритм детекции движения:

Берется два последовательных кадра.
Берется серые компоненты
Гаусс сглаживания обоих кадров
Абсолютная разница между кадрами
Морфологический фильтр dilate
Поиск контуров
Нахождение максимального контура по площади
Срабатывание тревоги если таких контуров больше 3.

